"use strict";angular.module("projectsApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","angularLocalStorage"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/baufi.html",controller:"BaufinanzCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("projectsApp").controller("BaufinanzCtrl",["$scope","storage","grunderwerbssteuern",function(a,b,c){a.grunderwerbssteuern=c,b.bind(a,"kaufpreis",{defaultValue:345e3}),b.bind(a,"provision",{defaultValue:5.95}),b.bind(a,"steuer",{defaultValue:6}),b.bind(a,"auslagen",{defaultValue:1.5}),b.bind(a,"eigenkapital",{defaultValue:0}),b.bind(a,"eigenkapital2",{defaultValue:0}),b.bind(a,"zinsrate",{defaultValue:2}),b.bind(a,"tilgungsrate",{defaultValue:2}),a.provisionBetrag=function(){return parseFloat(a.kaufpreis)*parseFloat(a.provision)/100},a.steuerBetrag=function(){return parseFloat(a.kaufpreis)*parseFloat(a.steuer)/100},a.auslagenBetrag=function(){return parseFloat(a.kaufpreis)*parseFloat(a.auslagen)/100},a.kaufnebenkosten=function(){return a.provisionBetrag()+a.steuerBetrag()+a.auslagenBetrag()},a.kosten=function(){return parseFloat(a.kaufpreis)+a.kaufnebenkosten()},a.eigenkapitalBetrag=function(){return parseFloat(a.eigenkapital)+parseFloat(a.eigenkapital2)},a.min=function(b){var c=(100-b)/100;return a.kaufnebenkosten()+c*a.kaufpreis},a.kreditart=function(){return a.min(90)<=a.eigenkapitalBetrag()?90:a.min(100)<=a.eigenkapitalBetrag()?100:110},a.kredit=function(){return a.kreditart()/100*parseFloat(a.kaufpreis)},a.zinsen=function(){return Math.round(parseFloat(a.zinsrate)/100*a.kredit())},a.tilgung=function(){return Math.round(parseFloat(a.tilgungsrate)/100*a.kredit())},a.monatsrate=function(){return Math.round(a.rate()/12)},a.rate=function(){return a.zinsen()+a.tilgung()},a.laufzeitN=function(){var b=parseFloat(a.zinsrate)/100,c=parseFloat(a.tilgungsrate)/100,d=12;return Math.ceil(Math.log2(1+b/c)/Math.log2(1+b/d))},a.laufzeitString=function(){var b=a.laufzeitN(),c=Math.ceil(b/12),d=b%12;return""+c+" Jahre, "+d+" Monate"}}]).filter("euro",function(){return function(a){var b=null;return b=void 0!==a&&null!==a&&a?Math.round(parseFloat(a)).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."):0,b+" €"}}),angular.module("projectsApp").value("grunderwerbssteuern",[{name:"Baden-Württemberg",steuer:5},{name:"Bayern",steuer:3.5},{name:"Berlin",steuer:6},{name:"Brandenburg",steuer:5},{name:"Bremen",steuer:5},{name:"Hamburg",steuer:4.5},{name:"Hessen",steuer:6},{name:"Mecklenburg-Vorpommern",steuer:5},{name:"Niedersachsen",steuer:5},{name:"Nordrhein-Westfalen",steuer:6.5},{name:"Rheinland-Pfalz",steuer:5},{name:"Saarland",steuer:6.5},{name:"Sachsen",steuer:3.5},{name:"Sachsen-Anhalt",steuer:5},{name:"Schleswig-Holstein",steuer:6.5},{name:"Thüringen",steuer:5}]);